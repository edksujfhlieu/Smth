# Telegram Mini App для перехвата сетевых запросов

Это приложение позволяет перехватывать, анализировать и логировать сетевые запросы (включая заголовки и payload) из других Telegram Mini Apps.

## Возможности

- Перехват всех сетевых запросов
- Отображение заголовков (headers) запросов
- Извлечение и отображение payload для POST, PUT и PATCH запросов
- Фильтрация логов по URL
- Специальное отслеживание запросов к gifts2.tonnel.network

## Инструкция по установке на GitHub Pages

### Шаг 1: Создайте репозиторий на GitHub

1. Зайдите в ваш аккаунт GitHub и создайте новый репозиторий
2. Название репозитория: `telegram-request-logger` (или любое другое)
3. Сделайте репозиторий публичным
4. Загрузите файлы `index.html` и `sw.js` в корень репозитория

### Шаг 2: Настройте GitHub Pages

1. Перейдите в настройки репозитория (Settings)
2. Найдите раздел "GitHub Pages"
3. В выпадающем списке "Source" выберите "main" (или "master") и сохраните
4. Дождитесь активации GitHub Pages (обычно занимает несколько минут)
5. После активации вы получите URL вида: `https://your-username.github.io/telegram-request-logger/`

### Шаг 3: Создайте Telegram Mini App в BotFather

1. Откройте диалог с [@BotFather](https://t.me/BotFather) в Telegram
2. Отправьте команду `/newapp`
3. Выберите бота с токеном: `7749921666:AAFuYQYYg1JAM1-ICxRt_cqE1oQipZkjczk`
4. Введите имя для вашего приложения, например "Request Logger"
5. Вставьте URL вашего GitHub Pages: `https://your-username.github.io/telegram-request-logger/`
6. Дождитесь ответа от BotFather с ссылкой на ваше Mini App
7. Mini App должно быть создано и доступно по ссылке вида: `https://t.me/your_bot_name/app`

## Использование приложения

1. Откройте ваше Telegram Mini App по ссылке от BotFather
2. Дождитесь регистрации Service Worker (статус изменится с "Ожидание инициализации" на "Service Worker успешно зарегистрирован")
3. Нажмите кнопку "Начать отслеживание" для активации перехвата запросов
4. Теперь все сетевые запросы будут отображаться прямо в интерфейсе приложения
5. Используйте поле фильтра для поиска нужных запросов по URL
6. Для очистки логов нажмите "Очистить логи"

## Технические особенности

- Service Worker перехватывает все сетевые запросы
- Запросы к домену gifts2.tonnel.network отслеживаются постоянно, даже если общее отслеживание выключено
- Для POST, PUT и PATCH запросов извлекается и отображается payload
- Логи хранятся только в памяти браузера и теряются при перезагрузке страницы
- Фильтрация осуществляется на стороне клиента по полному URL

## Устранение неполадок

1. **Service Worker не регистрируется**
   - Убедитесь, что используется HTTPS (GitHub Pages автоматически использует HTTPS)
   - Перезагрузите страницу

2. **Не перехватываются запросы**
   - Проверьте, что нажата кнопка "Начать отслеживание"
   - Убедитесь, что запросы делаются с того же устройства

3. **Не удается увидеть payload запроса**
   - Возможно, запрос использует неподдерживаемый формат данных
   - Попробуйте открыть Инструменты разработчика в браузере для детального анализа 